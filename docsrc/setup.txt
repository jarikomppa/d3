Install ruby, and then run the following commands to set up asciidoctor and the needed extensions:

gem install asciidoctor
gem install asciidoctor-diagram
gem install asciidoctor-pdf
gem install asciidoctor-epub3
gem install kindlegen
gem install graphviz

Install graphviz and add the directory with dot.exe to system path

pip install blockdiag
